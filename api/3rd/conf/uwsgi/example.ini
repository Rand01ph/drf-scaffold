[uwsgi]
socket = /tmp/$(MODULE_NAME).sock
stats = /tmp/$(MODULE_NAME).stats.sock
chmod-socket = 666
home = /opt/venvs/$(VENV_NAME)
chdir = /opt/disk2/var/www/$(MODULE_NAME)
wsgi-file = pro_setting/wsgi.py
master = true
processes = 2
threads = 1
enable-threads = true
listen = 1024
post-buffering = 8192
harakiri = 60
socket-timeout = 60
reload-mercy = 5
reload-on-as = 2048
reload-on-rss = 256
max-requests = 100000
memory-report = true
log-master = true
log-x-forwarded-for = true
logformat = [RES/%(rssM)MB VIRT/%(vszM)MB] [pid: %(pid)] %(addr) [%(ltime)] %(method) %(uri) => generated %(size) bytes in %(msecs) msecs (%(proto) %(status))
daemonize = /var/log/uwsgi/$(MODULE_NAME).log
pcre-jit = true
single-interpreter = true
thunder-lock = true
vacuum = true
env = LC_ALL=en_US.UTF-8
env = LANG=en_US.UTF-8
env = LANGUAGE=en_US.UTF-8